!function(){"use strict";function d(a){var c,b=this;if("undefined"==typeof b)throw new TypeError("undefined is not a promise");if("function"!=typeof a)throw new TypeError("Promise resolver "+a+" is not a function");b.state="pending",b.result=void 0,b.onFulfilledCallbacks=[],b.onRejectedCallbacks=[],c=function(a,c){"pending"===b.state&&(b.state=a,b.result=c,(0!==b.onFulfilledCallbacks.length||0!==b.onRejectedCallbacks.length)&&setTimeout(function(){for(var e,a=0,c="fulfilled"===b.state?b.onFulfilledCallbacks:b.onRejectedCallbacks,d=c.length;d>a;a++)e=c[a],"function"==typeof e?e(b.result):null}))};try{a(function(a){c("fulfilled",a)},function(a){c("rejected",a)})}catch(d){c("rejected",d)}}var a=function(a){var b=Object.prototype.toString.call(a);return/^\[object Array\]$/i.test(b)},b=function(a){return null==a?!1:/^(object|function)$/i.test(typeof a)&&"function"==typeof a.then?!0:!1},c=function(a,c,d,e){if(c===a)throw new TypeError("Chaining cycle detected for promise #<Promise>");if(b(c))try{c.then(d,e)}catch(f){e(f)}else d(c)};d.prototype={constructor:d,customer:!0,then:function(a,b){"function"!=typeof a&&(a=function(a){return a}),"function"!=typeof b&&(b=function(a){throw a});var f,g,e=this;return f=new d(function(d,h){switch(e.state){case"fulfilled":setTimeout(function(){try{g=a(e.result),c(f,g,d,h)}catch(b){h(b)}});break;case"rejected":setTimeout(function(){try{g=b(e.result),c(f,g,d,h)}catch(a){h(a)}});break;default:e.onFulfilledCallbacks.push(function(b){try{g=a(b),c(f,g,d,h)}catch(e){h(e)}}),e.onRejectedCallbacks.push(function(a){try{g=b(a),c(f,g,d,h)}catch(e){h(e)}})}})},"catch":function(a){var b=this;return b.then(null,a)}},"undefined"!=typeof Symbol&&(d.prototype[Symbol.toStringTag]="Promise"),d.resolve=function(a){return new d(function(b){b(a)})},d.reject=function(a){return new d(function(b,c){c(a)})},d.all=function(c){var e=!0;if("undefined"!=typeof Symbol?"function"!=typeof c[Symbol.iterator]?e=!1:null:a(c)?null:e=!1,e===!1)throw new TypeError(c+" is not iterable");return new d(function(a,e){for(var i,f=0,g=c.length,h=0,j=[];g>f;f++)!function(f){i=c[f],b(i)||(i=d.resolve(i)),i.then(function(b){h++,j[f]=b,h>=g&&a(j)},e)}(f)})},"undefined"!=typeof window&&(window.Promise=d),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=d)}();